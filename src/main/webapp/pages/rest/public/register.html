<!DOCTYPE html>
<html>
<head lang="en">
    <script type="text/javascript">
        function register() {
            var password = $("#password").val();
            var name = $("#name").val();
            var email = $("#email").val();
            var senddata={ username : name, password : password, mailaddress: email };
            $.post('/REST/register', senddata, function(data) {
            });
        }

        $.ajaxSetup({
            statusCode: {
                201: function() {
                    bootbox.dialog({
                        title: "Willkommen "+$("#name").val() +"!",
                        message: "Die Registrierung war erfolgreich.",
                        buttons: {
                            success: {
                                label: "Weiter",
                                className: "btn-success",
                                callback: function () {
                                }
                            }
                        }
                    });
                    $("#body").load("public/login.html");
                },
                409: function() {
                    bootbox.dialog({
                        title: "Fehler",
                        message: "Ein Benutzer mit diesem Namen ist bereits registriert!"
                    });
                }
            }
        });


    </script>

</head>
<body>
    <div class="container">
        <form class="form-signin">
            <h2 class="form-signin-heading">Registrieren</h2>
            <input type="text" id="name" class="form-control" placeholder="Name" required autofocus>
            <input type="email" id="email" class="form-control" placeholder="Email-Adresse" required autofocus>
            <input type="password" id="password" class="form-control" placeholder="Passwort" required>
            <button type="button" class="btn btn-lg btn-primary btn-block" onclick="register()">Registrieren</button>
        </form>
    </div>
</body>
</html>